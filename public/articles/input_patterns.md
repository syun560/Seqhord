# 演奏パターンを入力する

演奏パターンを入力することができます。

### トラックの追加
MIDIの仕様に習い、**最大16トラック**までとしています。
トラックは4種類あり、それぞれ用途が分かれています。
追加トラックは「@type」キーワードで、以下の指定が可能です。

| トラックの種類 | 説明             |
| -------------- | ---------------- |
| melody         | メイン           |
| chord          | コードトラック   |
| bass           | ベーストラック   |
| drum           | パーカッション   |


### 変数について
繰り返しの変数を用いることができます。
よく使われるパターンを変数として定義することで、繰り返しの記述を省略し、より簡潔に記述することができます。
現在使用している変数は、画面右側に表示されます。

### 関数の設定
関数を使用することで、音列に対して操作を行うことができます。
「一オクターブ変更」したり、
スケール内で自由に弾くなどを行うことができます。

デフォルトで用意されている関数は以下の通りです。
| 関数名    | 使用法                         | 説明 |
| --------- | ------------------------------ | ---- |
| rand      | スケール内のランダムな音を出す |      |
| transpose | オクターブ変更する             |      |
|           |                                |      |

### コードの指定
コードトラックでは、和音コードを指定ことができます（アノテーション）。
コードを指定することで、伴奏の自動入力などの、機能を利用することができます。

移動ドと考え、相対的な音を入力することができます。

コードは、以下のように記述します。成り立ちます。
C#-----------------------m7-5-----------/分数コード
根音（ルート音）

以下の12音から指定します。
「C, D, E, F, G, A, B」

ルート音に続けて、以下の種類のコードを指定することができます。
構成音はルート音を0としたときの相対表記（半音いくつ分離れているか）です。

| コード | 説明                     | 構成音       |     |
| ------ | ------------------------ | ------------ | --- |
|        | メジャー                 | [0,3,5]      |     |
| m      | マイナー                 | [0,3,5]      |     |
| 7      | セブンス                 | [0, 3, 5, 7] |     |
| M7     | メジャーセブンス         | [0,3,5]      |     |
| Mm7    | メジャーマイナーセブンス |              |     |
| m7     | マイナーセブンス         |              |     |
| dim    | ディミニッシュ           |              |     |
| dim7   | ディミニッシュセブンス   |              |     |
| sus4   | サスフォー               |              |     |
| add9   | アドナインス             |              |     |
| aug    | オーギュメント           |              |     |

「/」を使用することで、分数コードを指定できます。
分数コードを指定することで、最低音が指定した音となります。